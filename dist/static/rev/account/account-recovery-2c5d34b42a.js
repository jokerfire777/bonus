"use strict";!function(){function e(){ebates.js.require(ebates.src.modal,function(){ebates.UI.modal(w,{url:"ajax/create-pwd-copy.htm",classes:{toAdd:["op0",v.margin,"border-grn-t-2",v.accountRecoveryModal,"mw-mar-10-lr","create-pwd-copy-modal"],toRemove:["fixed","border","border-grn-t-5","op0"]},bg:{classes:["op3"],closeOnClick:!1}},{ajax:{done:function(){}}})})}function a(e,a){var s="";a&&""!=a&&(s="&delivery_type="+a),ebates.js.require(ebates.src.modal,function(){ebates.UI.modal(w,{url:"/ajax/verify-your-account.htm?type="+e+s,classes:{toAdd:["op0",v.margin,"border-grn-t-2",v.verifyAccountModal,"mw-mar-10-lr","verify-account-modal"],toRemove:["fixed","border","border-grn-t-5","op0"]},bg:{classes:["op3"],closeOnClick:!1}},{ajax:{done:function(){}}})})}function s(e){ebates.js.require(ebates.src.modal,function(){ebates.UI.modal(w,{url:"/ajax/create-your-pwd.htm?type="+e,classes:{toAdd:["op0",v.margin,"border-grn-t-2",v.verifyAccountModal,"mw-mar-10-lr","create-pwd-modal"],toRemove:["fixed","border","border-grn-t-5","op0"]},bg:{classes:["op3"],closeOnClick:!1}},{ajax:{done:function(){}}})})}function r(e){ebates.js.require(ebates.src.modal,function(){ebates.UI.modal(w,{url:"/ajax/select-verification-method.htm?type="+e,classes:{toAdd:["op0",v.margin,"border-grn-t-2",v.verifyAccountModal,"mw-mar-10-lr","select-verification-method"],toRemove:["fixed","border","border-grn-t-5","op0"]},bg:{classes:["op3"],closeOnClick:!1}},{ajax:{done:function(){}}})})}function o(e,a){var s="";a&&""!=a&&(s="&delivery_type="+a),ebates.js.require(ebates.src.modal,function(){ebates.UI.modal(w,{url:"/ajax/resend-code-modal.htm?type="+e+s,classes:{toAdd:["op0",v.margin,"border-grn-t-2",v.verifyAccountModal,"mw-mar-10-lr","resend-code-modal"],toRemove:["fixed","border","border-grn-t-5","op0"]},bg:{classes:["op3"],closeOnClick:!1}},{ajax:{done:function(){}}})})}function t(){ebates.js.require(ebates.src.modal,function(){ebates.UI.modal(w,{url:"ajax/update-pwd-modal.htm",classes:{toAdd:["op0",v.margin,"border-grn-t-2",v.verifyAccountModal,"mw-mar-10-lr","update-pwd-modal"],toRemove:["fixed","border","border-grn-t-5","op0"]},bg:{classes:["op3"],closeOnClick:!1}},{ajax:{done:function(){}}})})}function d(){ebates.js.require(ebates.src.modal,function(){ebates.UI.modal(w,{url:"ajax/forgot-pwd-modal.htm",classes:{toAdd:["op0",v.margin,"border-grn-t-2",v.verifyAccountModal,"mw-mar-10-lr","forgot-pwd-modal"],toRemove:["fixed","border","border-grn-t-5","op0"]},bg:{classes:["op3"],closeOnClick:!1}},{ajax:{done:function(){}}})})}function n(){ebates.js.require(ebates.src.modal,function(){ebates.UI.modal(w,{url:"ajax/email-link-sent.htm",classes:{toAdd:["op0",v.margin,"border-grn-t-2",v.verifyAccountModal,"mw-mar-10-lr","email-link-sent-modal"],toRemove:["fixed","border","border-grn-t-5","op0"]},bg:{classes:["op3"],closeOnClick:!1}},{ajax:{done:function(){}}})})}function i(){ebates.js.require(ebates.src.modal,function(){ebates.UI.modal(w,{url:"ajax/force-pwd-reset.htm",classes:{toAdd:["op0",v.margin,"border-grn-t-2",v.verifyAccountModal,"mw-mar-10-lr","force-pwd-reset-modal"],toRemove:["fixed","border","border-grn-t-5","op0"]},bg:{classes:["op3"],closeOnClick:!1}},{ajax:{done:function(){}}})})}function l(e){var a=0,s="",r="",o=$("#email-check").val(),t=o.indexOf("@"),d=o.substring(0,t),n=/[^\x21-\x7e]/;n.test(e);e.length<=7?(r="Too Short",s="f-gry-dk-8"):(a=zxcvbn(e.toLowerCase(),ebates.customeDictionary).score,0==a||e==d||e==o?(r="Very Weak",s="error-red"):1==a?(r="Weak",s="error-red"):2==a?(r="Fair",s="darkorange"):3==a?(r="Strong",s="f-grn"):4==a&&(r="Very Strong",s="f-grn")),$(".score-rating").removeClass("f-gry-dk-8 error-red darkorange f-grn").addClass(s),$("#password_score").val(a),$(".score-rating").html(r),e.length>=1?$(".password-meter").removeClass("hide"):$(".password-meter").addClass("hide")}function c(){jQuery.ajax({url:"ajax/changePassword.do",type:"POST",success:function(){window.location.reload()},error:function(){}})}function m(e,a,s){p.trigger("stats",{data:["send","event",e,a,s],map:{external:{ec:e,ea:a,el:s}}})}var p=$(document),u="",w="M"===ebates.stats.device?'<div class="lh-50 center"><span class="fa-spinner fa-pulse f-50 absolute ht-50 w-50"></span><div>':'<span class="fa-spinner fa-pulse f-50 f-grn absolute h-v-centered ht-50 w-50"></span>',v={accountRecoveryModal:"M"===ebates.stats.device?"w-full":"w-500",margin:"M"===ebates.stats.device?"no-margin":"margin",verifyAccountModal:"M"===ebates.stats.device?"w-full":"w-400"},f={empty:"Please enter a verification code.",not_valid:"Please enter a 6-digit verification code.",empty_pwd:"Please enter your password.",too_short:"Your password must be at least 8 characters long.",create_password_verification_token_failed:"Please enter a valid 6-digit verification code.",empty_current_pwd:"Please enter your current password.",short_current_pwd:"The current password you entered is incorrect. Please try again.",empty_new_pwd:"Your password must be at least 8 characters long.",short_new_pwd:"Your password must be at least 8 characters long.",long_current_pwd:"The password you submitted is too long. Your password must be between 6-128 characters.",email_pwd_check:"Your password cannot be the same as your email address.",invalid_char_pwd_check:"You may only use letters, numbers or simple punctuation (e.g., ! _ # - %) in your password.",week_pwd:"Your password is too weak. Strong passwords are long and hard to guess. Try using several words, and avoid common phrases.",current_password_incorrect:"The current password you entered is incorrect. Please try again.",password_mismatch:"Your new passwords do not match.",password_same:"Old passwords cannot be reused.",existing_password_incorrect:"The current password you entered is incorrect. Please try again.",existed_in_password_history:"Old passwords cannot be reused.",before_password:"Old passwords cannot be reused.",too_long:"Oops. Your password is too long. Please provide a password that is 6-12 characters in length.",too_spaces:"Your Password must contain between 6 and 12 characters and cannot contain all spaces. Please re-enter it before continuing.",recaptcha_invalid:"Captcha is required.",emailEmpty:"Please enter email address.",emailInvalid:"Please enter a valid email address.",verification_token_failed:"Please enter a valid 6-digit verification code.",verification_token_email_failed:"Something went wrong, please try again to send the token again.",INVALIDUSER:"Sorry, there was a problem submitting your request. Please check your email and try again.",inactive_user:'Your account is currently unavailable. Please <a href="help/customer_care/other.htm@cchelp=true">contact Customer Care</a> for assistance.',password_up_err:"Sorry, there was a problem submitting your request.",failure_limit_crossed:"You have exceeded your token limit, please try after some time.",profile_update_validation_token_max_count_reached:"You have exceeded your token limit, please try after some time."};p.on("click",".create-pwd-copy-btn",function(){e()}),p.on("click",".create-pwd-btn",function(){s("create_password")}),p.on("click",".verify-another-way",function(){r($(this).data("type"))}),p.on("click",".re-send-code",function(){o($(this).data("type"),$(this).data("deliverytype"))}),p.on("click",".change-pwd-link",function(){t(),m("Account Recovery","Click - Change Password Link","Update/Reset Password  - open Update/Reset Password  modal")}),$(".digit").keypress(function(e){8!=e.which&&isNaN(String.fromCharCode(e.which))&&e.preventDefault()}),ebates.js.require(ebates.src.form.passwordMeter),p.on("input",".password-check",function(){l(this.value)}),p.on("click",".show-txt",function(){var e=$("#create-pwd"),a=$(".show-txt");"password"==e.attr("type")?(e.attr("type","text"),a.html("Hide")):(e.attr("type","password"),a.html("Show"))}),p.on("blur","#create-pwd",function(){$("#create-pwd").attr("type","password"),$(".show-txt").html("Show")}),p.on("click",".createPwdCopyModalAlignment .create-pwd-copy-submit",function(e){$(this).hasClass("disabled")?e.preventDefault():($(this).addClass("disabled"),jQuery.ajax({url:"ajax/sendVerificationToken.do",type:"POST",dataType:"json",data:{isAjax:!0,page:"create_password",delivery_type:"email"},success:function(e){e&&"validation_token_email_sent"===e.successTextKey?(this.close,a("create_password"),m("Account Recovery","Click - Send Instructions","Create Password - Send Token, open verification modal")):e&&"validation_link_email_sent"===e.successTextKey&&(this.close,n(),m("Account Recovery","Click - Send Instructions","Create Password - Send Link Email, open email sent modal"))},error:function(){$(".createPwdCopyModalAlignment .create-pwd-copy-submit").removeClass("disabled"),m("Account Recovery","Click - Send Instructions","Create Password - Send Token for error")}}).done(function(){$(".createPwdCopyModalAlignment .create-pwd-copy-submit").removeClass("disabled")}))}),p.on("click",".verifyAccountModalAlignment .verify-account-submit",function(e){if($(this).hasClass("disabled"))e.preventDefault();else{$(this).addClass("disabled");var a=$(".errorBoxnew"),r=$(".verifyAccountModalAlignment .verification-code"),o=r.val().trim(),t=$(this).data("type");a.addClass("hide").empty(),r.removeClass("border-red"),"forgot_password"===t?u="Forgot Password":"create_password"===t?u="Create Password":"update_password"===t?u="Update/Reset Password":"force_reset_password"===t&&(u="Password Force Reset"),""==o?(a.removeClass("hide").text(f.empty),r.addClass("border-red"),$(this).removeClass("disabled")):o.length<6?(a.removeClass("hide").text(f.not_valid),r.addClass("border-red"),$(this).removeClass("disabled")):jQuery.ajax({url:"ajax/validateToken.do",type:"POST",dataType:"json",data:{isAjax:!0,page:t,verification_token:o},success:function(e){e&&"success"===e.successTextKey?("update_password"===t?(m("Account Recovery","Click - Verify My Account Button",u+" - success"),c()):(this.close,s(t),m("Account Recovery","Click - Verify My Account Button",u+" - token validation success")),$(this).removeClass("disabled")):e&&e.errors&&(jQuery.each(e.errors,function(e,s){a.removeClass("hide").text(f[s.messageKey]),r.addClass("border-red")}),$(this).removeClass("disabled"),r.val(""),m("Account Recovery","Click - Verify My Account Button",u+" - token validation error"))},error:function(){a.removeClass("hide").text("Please check the verification code and try again."),r.addClass("border-red"),m("Account Recovery","Click - Verify My Account Button",u+" - form error")}}).done(function(){$(".verifyAccountModalAlignment .verify-account-submit").removeClass("disabled")})}}),p.on("click",".createPwdModalAlignment .save-signin",function(e){if($(this).hasClass("disabled"))e.preventDefault();else{$(this).addClass("disabled");var a=$(".errorBoxnew"),s=$(".createPwdModalAlignment .create-password"),r=($(".createPwdModalAlignment .show-txt"),s.val().trim()),o=$(".createPwdModalAlignment #password_score").val().trim(),t=$(".createPwdModalAlignment #_csrf").val().trim(),d=$(this).data("type");a.addClass("hide").empty(),s.removeClass("border-red"),"forgot_password"===d?u="Forgot Password":"create_password"===d?u="Create Password":"create_password_from_email"===d?u="Create Password Email":"update_password"===d?u="Update/Reset Password":"force_reset_password"===d&&(u="Password Force Reset"),""==r?(a.removeClass("hide").text(f.empty_pwd),s.addClass("border-red"),$(this).removeClass("disabled")):r.length<8?(a.removeClass("hide").text(f.too_short),s.addClass("border-red"),$(this).removeClass("disabled")):"0"===o||"1"===o?(a.removeClass("hide").text(f.week_pwd),s.addClass("border-red"),$(this).removeClass("disabled")):jQuery.ajax({url:"ajax/updatePassword.do",type:"POST",dataType:"json",data:{isAjax:!0,page:d,password:r,password_score:o,_csrf:t,urlIdentifier:window.location.pathname+window.location.search},success:function(e){e&&"success"===e.successTextKey||"password_ok"===e.successTextKey?p.trigger("stats",{data:["send","event","Account Recovery","Click - Save and Sign In",u+" - success",{hitCallback:function(){if("help/password"===window.location.pathname)window.location.href="help";else if("M"===ebates.stats.device&&"forgot_password"===d){var e="index.htm";"hotels"!=ebates.param.get("targetpage")&&"help"!=ebates.param.get("targetpage")||(e=ebates.param.get("targetpage")),window.location.href=e}else"account-settings.htm"===window.location.pathname||"forgot_password"===d?window.location.reload():window.location.href="index.htm"}}],map:{external:{ec:"Account Recovery",ea:"Click - Save and Sign In",el:u+" - success"}}}):e&&e.errors&&jQuery.each(e.errors,function(e,r){a.removeClass("hide").text(f[r.messageKey]),s.addClass("border-red"),m("Account Recovery","Click - Save and Sign In",u+" -"+r.messageKey)})},error:function(){a.removeClass("hide").text("Please try again."),s.addClass("border-red"),$(".createPwdModalAlignment .save-signin").removeClass("disabled"),m("Account Recovery","Click - Save and Sign In",u+" - form error")}}).done(function(){$(".createPwdModalAlignment .save-signin").removeClass("disabled")})}}),p.on("click",".resendCodeModalAlignment .resend-code-btn, .selectVerificartionMethodModalAlignment .verify-by-email",function(e){if($(this).hasClass("disabled"))e.preventDefault();else{$(this).addClass("disabled");var s=$(".errorBoxnew"),r=$(this).data("type"),o=$(this).data("deliverytype");s.addClass("hide").empty(),jQuery.ajax({url:"ajax/sendVerificationToken.do",type:"POST",dataType:"json",data:{isAjax:!0,delivery_type:o,page:r,type:"resend"},success:function(e){!e||"validation_token_email_sent"!==e.successTextKey&&"validation_token_sms_sent"!==e.successTextKey?e&&e.errors&&($(this).removeClass("disabled"),jQuery.each(e.errors,function(e,a){return s.removeClass("hide").text(f[a.messageKey]),!1})):(this.close,a(r,o)),$(".resendCodeModalAlignment .resend-code-btn").removeClass("disabled")},error:function(){$(".resendCodeModalAlignment .resend-code-btn").removeClass("disabled"),$(".selectVerificartionMethodModalAlignment .verify-by-email").removeClass("disabled")}}).done(function(){$(".resendCodeModalAlignment .resend-code-btn").removeClass("disabled"),$(".selectVerificartionMethodModalAlignment .verify-by-email").removeClass("disabled")})}}),p.on("click",".selectVerificartionMethodModalAlignment .verify-by-sms",function(e){if($(this).hasClass("disabled"))e.preventDefault();else{$(this).addClass("disabled"),$(".errorBoxnew").remove();var s=$(this).data("type");jQuery.ajax({url:"ajax/sendVerificationToken.do",type:"POST",dataType:"json",data:{isAjax:!0,delivery_type:"sms",page:s,type:"resend"},success:function(e){e&&"validation_token_sms_sent"===e.successTextKey?(this.close,a(s,"sms")):e&&e.errors&&($(this).removeClass("disabled"),jQuery.each(e.errors,function(e,a){return $("<div class='errorBoxnew error-red mar-10-b iblk flt'>"+f[a.messageKey]+"</div>").insertAfter($(".verification-method-copy")),!1}))},error:function(){$(".selectVerificartionMethodModalAlignment .verify-by-sms").removeClass("disabled")}}).done(function(){$(".selectVerificartionMethodModalAlignment .verify-by-sms").removeClass("disabled")})}}),p.on("click",".updatePasswordModalAlignment .update-pwd-btn",function(e){if($(this).hasClass("disabled"))e.preventDefault();else{$(this).addClass("disabled");var s=$(".updatePasswordModalAlignment .existing-password"),r=$(".updatePasswordModalAlignment .create-password"),o=$(".updatePasswordModalAlignment .new-pwd-fld"),t=s.val().trim(),d=r.val().trim(),i="<div class='errorBoxnew error-red mar-10-b iblk flt'>",l=/[^\x21-\x7e]/,c=l.test(d),u=$(".email-copy").text().trim(),w=u.indexOf("@"),v=u.substring(0,w),b=$(".updatePasswordModalAlignment .g-recaptcha-response").val().trim(),g=$(".updatePasswordModalAlignment #password_score").val().trim(),h=$(".updatePasswordModalAlignment #_csrf").val().trim();s.removeClass("border-red"),r.removeClass("border-red"),$(".errorBoxnew").remove(),""===t?(s.addClass("border-red"),$(i+f.empty_current_pwd+"</div>").insertBefore(s),$(this).removeClass("disabled")):t.length<6?(s.addClass("border-red"),$(i+f.short_current_pwd+"</div>").insertBefore(s),$(this).removeClass("disabled")):""===d?(r.addClass("border-red"),$(i+f.empty_new_pwd+"</div>").insertBefore(o),$(this).removeClass("disabled")):d.length<8?(r.addClass("border-red"),$(i+f.short_new_pwd+"</div>").insertBefore(o),$(this).removeClass("disabled")):t===d?(r.addClass("border-red"),$(i+"The current and new passwords you have entered are the same, please use a different password.</div>").insertBefore(o),s.val(""),r.val(""),$(this).removeClass("disabled")):d===v||d===u?(r.addClass("border-red"),$(i+f.email_pwd_check+"</div>").insertBefore(o),$(this).removeClass("disabled"),r.val("")):c?(r.addClass("border-red"),$(i+f.invalid_char_pwd_check+"</div>").insertBefore(o),r.val(""),$(this).removeClass("disabled")):"0"===g||"1"===g?(r.addClass("border-red"),$(i+f.week_pwd+"</div>").insertBefore(o),$(this).removeClass("disabled")):$(".updatePasswordModalAlignment #recaptcha").is(":visible")&&0===b.length?($(i+f.recaptcha_invalid+"</div>").insertBefore(".pwd-re-captch-blk"),$(this).removeClass("disabled")):jQuery.ajax({url:"ajax/changePassword.do",type:"POST",dataType:"json",data:{isAjax:!0,page:"update_password",existingPassword:t,password:d,myebates_change_identifier:"ebates","g-recaptcha-response":b,password_score:g,_csrf:h,urlIdentifier:window.location.pathname+window.location.search},success:function(e){e&&null!=e&&(e&&"success"===e.successTextKey||e&&"password_ok"===e.successTextKey?p.trigger("stats",{data:["send","event","Account Recovery","Click - Update/Reset Password","Update/Reset Password - success",{hitCallback:function(){window.location.reload()}}],map:{external:{ec:"Account Recovery",ea:"Click - Save and Sign In",el:"Update/Reset Password - success"}}}):"validation_token_email_sent"===e.successTextKey?(this.close,a("update_password"),m("Account Recovery","Click - Send Instructions","Update/Reset Password - Send Token, open verification modal")):"validation_link_email_sent"===e.successTextKey?(this.close,n(),m("Account Recovery","Click - Send Instructions","Create Password - Send Link Email, open email sent modal")):e&&e.errors&&(grecaptcha.reset(recaptchaPwd),$(this).removeClass("disabled"),s.removeClass("border-red"),r.removeClass("border-red"),$(".errorBoxnew").remove(),jQuery.each(e.errors,function(e,a){var t="<div class='errorBoxnew error-red mar-10-b iblk flt'>"+f[a.messageKey]+"</div>";if("too_short"===a.messageKey&&($(t).insertBefore(s),s.addClass("border-red").val("")),"current_password_incorrect"===a.messageKey&&($(t).insertBefore(s),s.addClass("border-red").val("")),"password_same"===a.messageKey&&($(t).insertBefore(o),r.addClass("border-red").val("")),"before_password"===a.messageKey&&($(t).insertBefore(o),r.addClass("border-red").val("")),"existing_password_incorrect"===a.messageKey&&($(t).insertBefore(s),s.addClass("border-red").val("")),"existed_in_password_history"===a.messageKey&&($(t).insertBefore(o),r.addClass("border-red").val("")),"very_weak_or_weak"===a.messageKey){$("<div class='errorBoxnew error-red mar-10-b iblk flt'>Your password is too weak. Strong passwords are long and hard to guess. Try using several words, and avoid common phrases.</div>").insertBefore(o),r.addClass("border-red").val("")}"recaptcha_invalid"===a.messageKey&&$(t).insertBefore(".pwd-re-captch-blk"),"password_up_err"===a.messageKey&&$(t).insertBefore(s),m("Account Recovery","Click - Update/Reset Password",a.messageKey)})))},error:function(){$(i+"Please try again. </div>").insertBefore(s),$(".updatePasswordModalAlignment .update-pwd-btn").removeClass("disabled")}}).done(function(){$(".updatePasswordModalAlignment .update-pwd-btn").removeClass("disabled")})}}),p.on("click",".forgotPasswordModalAlignment .forgot-pwd-btn",function(e){if($(this).hasClass("disabled"))e.preventDefault();else{$(this).addClass("disabled");var s=$(".forgotPasswordModalAlignment .email-address"),r=$(".forgotPasswordModalAlignment .email-address").val().trim(),o="<div class='errorBoxnew error-red mar-10-b iblk flt'>",t=$(".forgotPasswordModalAlignment .g-recaptcha-response").val().trim(),d=$(".forgotPasswordModalAlignment #_csrf").val().trim();s.removeClass("border-red"),$(".errorBoxnew").remove(),""==r?(s.addClass("border-red"),$(o+f.emailEmpty+"</div>").insertBefore(s),$(this).removeClass("disabled")):ebates.regex.email.test(r)?$(".forgotPasswordModalAlignment #recaptcha").is(":visible")&&0===t.length?($(o+f.recaptcha_invalid+"</div>").insertBefore(".forgot-pwd-re-captch-blk"),$(this).removeClass("disabled")):jQuery.ajax({url:"ajax/sendVerificationToken.do",type:"POST",dataType:"json",data:{isAjax:!0,page:"forgot_password",email:r,"g-recaptcha-response":t,_csrf:d,urlIdentifier:window.location.pathname+window.location.search},success:function(e){e&&"validation_token_email_sent"===e.successTextKey?(this.close,a("forgot_password"),m("Account Recovery","Click - Reset Password Button","Forgot Password - Send Token, open verification modal")):e&&"validation_link_email_sent"===e.successTextKey?(this.close,n(),m("Account Recovery","Click - Reset Password Button","Forgot Password - Send Email Link")):e&&e.errors&&($(this).removeClass("disabled"),jQuery.each(e.errors,function(e,a){return $(o+f[a.messageKey]+"</div>").insertBefore(s),m("Account Recovery","Click - Reset Password Button",a.messageKey+" - Forgot Password Modal"),!1}))},error:function(){$(".forgotPasswordModalAlignment .forgot-pwd-btn").removeClass("disabled")}}).done(function(){$(".forgotPasswordModalAlignment .forgot-pwd-btn").removeClass("disabled")}):(s.addClass("border-red"),$(o+f.emailInvalid+"</div>").insertBefore(s),$(this).removeClass("disabled"))}}),p.on("click",".forcePwdResetModalAlignment .fpr-copy-submit",function(e){if($(this).hasClass("disabled"))e.preventDefault();else{$(this).addClass("disabled"),$(".errorBoxnew").remove();var s=$(".forcePwdResetModalAlignment .g-recaptcha-response").val().trim(),r="<div class='errorBoxnew error-red mar-10-b iblk flt'>",o=$(".forcePwdResetModalAlignment #_csrf").val().trim();$(".forcePwdResetModalAlignment #recaptcha").is(":visible")&&0===s.length?($(r+f.recaptcha_invalid+"</div>").insertBefore(".fpr-re-captch-blk"),$(this).removeClass("disabled")):jQuery.ajax({url:"/ajax/sendVerificationToken.do",type:"POST",dataType:"json",data:{isAjax:!0,page:"force_reset_password",delivery_type:"email","g-recaptcha-response":s,_csrf:o,urlIdentifier:window.location.pathname+window.location.search},success:function(e){e&&"validation_token_email_sent"===e.successTextKey?(this.close,a("force_reset_password"),m("Account Recovery","Click - Reset Password","Password Force Reset - Send Token, open verification modal")):e&&"validation_link_email_sent"===e.successTextKey?(this.close,n(),m("Account Recovery","Click - Reset Password","Password Force Reset - Send Link Email, open email modal")):e&&e.errors&&($(this).removeClass("disabled"),jQuery.each(e.errors,function(e,a){return $(r+f[a.messageKey]+"</div>").insertBefore(".fpr-re-captch-blk"),!1}))},error:function(){$(".forcePwdResetModalAlignment .fpr-copy-submit").removeClass("disabled"),m("Account Recovery","Click - Reset Password","Password Force Reset - form error")}}).done(function(){$(".forcePwdResetModalAlignment .fpr-copy-submit").removeClass("disabled")})}}),("true"===ebates.param.get("createPwdCopyModal")||"createPasswordCopy"===ebates.page.tabId&&ebates.user.loggedIn)&&(e(),ebates.param.remove("createPwdCopyModal")),"true"===ebates.param.get("verifyAccountModal")&&(a("testParam"),ebates.param.remove("verifyAccountModal")),("true"===ebates.param.get("createPwdModal")||"createPasswordFromEmail"===ebates.page.tabId&&ebates.user.loggedIn)&&(s("create_password_from_email"),ebates.param.remove("createPwdModal")),"true"===ebates.param.get("verificationModal")&&(r("testParam"),ebates.param.remove("verificationModal")),"true"===ebates.param.get("resendCodeModal")&&(o("testParam"),ebates.param.remove("resendCodeModal")),"true"===ebates.param.get("forgotPwdModal")&&(d(),ebates.param.remove("forgotPwdModal")),"true"===ebates.param.get("emailLinkSent")&&(n(),ebates.param.remove("emailLinkSent")),"true"===ebates.param.get("forcePwdReset")&&(i(),ebates.param.remove("forcePwdReset")),"true"===ebates.param.get("updatePwdReset")&&(t(),ebates.param.remove("updatePwdReset")),$(document).on("loadForgotPasswordModal",function(){d()}),$(document).on("loadFPRModal",function(){i(),m("Account Recovery","Password Force Reset","Password Force Reset modal open")})}();
//# sourceMappingURL=account-recovery-2c5d34b42a.js.map
