"use strict";!function(e,n,t,r,l){function a(e){return $(e).closest(w)[0]}function o(e,n){M=B.render(e,n,P),M.fadeIn(500),K=M.find("#"+k.inputId);var t=!1;return K.change(function(e){var n=e.target.item(e.target.selectedIndex);if($.inArray(n.value,R)>=0){if($.inArray(n.id,N)>=0){if(!G){var r=$("#"+b),l=null;l=a(r.length>0&&"hidden"!==r.attr("type")?r[0]:e.target),J=z.render(l,q.Locate.after,Q),G=J.find("#"+j.inputId),$(J).fadeIn(500)}}else m();c(),h(),d()}else u(t),s(t),f(t),t=!0}),O=$(I).attr("action"),$(I).attr("action",y),K}function i(){M&&(m(),g(M),M=null,K=null,$(I).attr("action",O),k.selectValue=null)}function u(e){var n=$("#"+b);if(n.length>0&&"hidden"!==n.attr("type")){var t=a(n[0]);e?$(t).fadeOut(500):$(t).hide()}}function c(){var e=$("#"+b);if(e.length>0&&"hidden"!==e.attr("type")){var n=a(e[0]);$(n).fadeIn(500)}}function s(e){var n=$("#"+C);if(n.length>0){var t=a(n[0]);e?$(t).fadeOut(500):$(t).hide()}}function f(e){var n=$("#"+F);if(n.length>0){var t=n.closest(V);e?t.fadeOut(500):t.hide()}}function d(){var e=$("#"+F);if(e.length>0){e.closest(V).fadeIn(500)}}function h(){var e=$("#"+C);if(e.length>0){var n=a(e[0]);$(n).fadeIn(500)}}function m(){J&&(g(J),J=null,G=null,j.selectValue="")}function g(e){var n=$(e);n.fadeOut(500,function(){n.remove()})}function p(e){var n=!1;return L.forEach(function(t){n||(n=t.selectValue===e)}),n}if(!l.helpcenter.otherForm||!l.helpcenter.otherForm.classes)throw"hotels-form requires other-form to be require first";var v=l.rakutenmode.currentBrandName+" Hotels",w=".input-cont",I="#customer_care_rebate",y="generic-hotels.do",C="comment",F="other_submit",V="div",b="userEmail",O="",E=l.helpcenter.otherForm.classes,q=l.helpcenter.otherForm.enum,S=new E.ElementOptions("hotelTopic",null,["fld-ht"]),T=new E.ElementOptions("",["data-show-on-select","hidden"]),A=new E.SelectValue("Tell us more","Tell us more","tum",!0),L=[new E.SelectValue("Change my reservation","Change my reservation","resChange"),new E.SelectValue("Cancel my reservation","Cancel my reservation","resCancel"),new E.SelectValue("Request a refund","Request a refund","refundReq"),new E.SelectValue("It's something else","It's something else","somethingElse")],N=["resChange","resCancel","refundReq"],R=L.map(function(e){return e.selectValue}),x=new E.IconFieldDescriptor("fa-angle-down",!1),H=new E.ElementOptions("confNum",null,["fld-ht"]),_=new E.ElementOptions("",["data-show-on-select","hidden"]),D=new E.IconFieldDescriptor("",!0),k=null,B=null,j=null,z=null,G=null,J=null,K=null,M=null,P="",Q="";ebates.helpcenter.hotelForm={},ebates.helpcenter.hotelForm.init=function(e,n,t,l){P=n,Q=l;var u=p(e),c=r.find("#drop");u||(t=""),k=new E.Input(S,q.InputTypes.select,S.id,L,x,A),u&&(k.selectValue=e),B=new E.InputContainer(T,"HALF",k),j=new E.Input(H,q.InputTypes.text,"confirmationNumber",t,D,"Confirmation Number"),z=new E.InputContainer(_,"HALF",j),c.change(function(e){var n=e.target.item(e.target.selectedIndex),t=a(e.target);n.value!==v||M?i():(o(t,q.Locate.after),K.trigger("change"))}),c.val()===v&&c.trigger("change")}}(window,$(window),document,$(document),ebates);
//# sourceMappingURL=hotels-form-ec8186523b.js.map
