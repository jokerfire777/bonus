"use strict";!function(e,s){ebates.UI=ebates.UI||{},ebates.UI.active=ebates.UI.active||{},ebates.UI.modal=function(t,a,l){var o={opts:{classes:{toAdd:["op0","iblk","bg-w","border","border-grn-t-5"],toRemove:["op0"]},url:"",css:{files:[ebates.src.css.modal],raw:""},bg:{scroll:!0,use:!0,classes:["op3","hide"],closeOnClick:!0},times:{closeIn:0,anim:300,safe:500},container:e.body,replace:!1,closing:{x:!0,remove:!0}},callbacks:{init:function(){},close:function(){},ajax:{done:function(){},fail:function(){}}}},c=$.extend(!0,o.opts,a||{}),i=$.extend(!0,o.callbacks,l||{}),n=!!c.bg.use&&(e.getElementById("eb-modal-bg")||function(){return n=e.createElement("div"),n.setAttribute("id","eb-modal-bg"),e.body.appendChild(n),n}()),d=e.createElement("div"),r=n&&e.createElement("div"),m=function(){var o=e.createElement("div"),m=c.closing.x&&function(){for(var s=["fa-times","f-16","lh-12","pad-15","pointer","absolute","eb-modal-close"],t=e.createElement("span"),a=0;a<s.length;a++)t.classList.add(s[a]);return t}();o.options=[t,a,l],$(d).html(t),c.classes.toAdd.push("eb-modal","fixed");for(var v=0;v<c.classes.toAdd.length;v++)o.classList.add(c.classes.toAdd[v]);return c.closing.x&&o.appendChild(m),o.appendChild(d),i.init.call(o),o.close=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{actionSrc:"x"};i.close.call(o,a);for(var l=0;l<c.classes.toRemove.length;l++)o.classList.add(c.classes.toRemove[l]);if(setTimeout(function(){var e=n?o.parentNode:o;c.closing.remove?e.parentNode.removeChild(e):e.classList.add("hide"),s.trigger("modal-closed"),s.trigger("overlay-closed")},0),r){r.removeEventListener("click",ebates.UI.active.modal.close,!1);for(var d=0;d<c.bg.classes.length;d++)n.classList.remove(c.bg.classes[d]);n.classList.add("hide"),ebates.UI.active.modal=null,e.body.classList.remove("overflow-0")}},c.closing.x&&m.addEventListener("click",o.close,!0),o}(),v=function(){c.url&&$.get(c.url).done(function(e){setTimeout(function(){return s.trigger("modal-content-loaded")},0),$(d).html(e),i.ajax.done.call(m)}).fail(i.ajax.fail.bind(m));for(var e=0;e<c.classes.toRemove.length;e++)m.classList.remove(c.classes.toRemove[e]);s.trigger("modal-activated"),s.trigger("overlay-loaded"),n&&(s.trigger("close-modals"),setTimeout(function(){for(var e=0;e<c.bg.classes.length;e++)n.classList.add(c.bg.classes[e]);n.classList.remove("hide")},0),ebates.UI.active.modal=m,c.bg.closeOnClick&&(r&&r.addEventListener("click",function(e){e.target.classList.contains("eb-modal-scroller")&&ebates.UI.active.modal.close(e,{actionSrc:"backdrop"})},!1),n&&r&&n.addEventListener("click",r.click.bind(r),!1)))};if(c.css.raw&&$(m).css(c.css.raw),c.replace)for(;c.container.firstChild;)c.container.removeChild(c.container.firstChild);return r&&(r.classList.add("eb-modal-scroller"),r.appendChild(m),m.classList.add("with-overlay"),!c.bg.scroll&&e.body.classList.add("overflow-0")),c.container.appendChild(r||m),!Array.isArray(c.css.files)&&(c.css.files=[]),c.css.files.push(v),ebates.css.require.apply(ebates.css,c.css.files),0!==c.times.closeIn&&setTimeout(m.close,c.times.closeIn),m},s.on("close-modals",function(){return ebates.UI.active.modal&&ebates.UI.active.modal.close()}),s.on("mouseup",".show-join-overlay",function(e){e.target.classList.contains("add-delay")||1===e.which&&ebates.UI.active.modal&&ebates.UI.active.modal.close()})}(document,$(document));
//# sourceMappingURL=eb-mod-a538c1ee26.js.map
